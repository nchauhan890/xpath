<!DOCTYPE html>
<html>
<head>
  <title>XPath Viewer</title>
  <link rel="stylesheet" href="viewer_styles.css"/>

  <script type="text/javascript">
    function xp_search() {
      let key = document.getElementById("search").value
      let success = false
      let msg = ""
      if (key.startsWith('/')) {
        key = "." + key
      } else {
        key = "./" + key
      }
      try {
        var res = document.evaluate(key, document.getElementById("demo"), null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null)
        success = true
      } catch (er) {
        msg = er.message.replace(/Failed to execute 'evaluate' on 'Document':/i, "")
      } 
      document.getElementById('msg').innerText = msg
      // console.log(res)
      for (let el of prev) {
        el.classList.remove('highlight')
      }
      prev = []
      if (!success) { 
        return 
      }
      for (let i = 0; i < res.snapshotLength; i++) {
        el = res.snapshotItem(i)
        el.classList.add('highlight')
        prev.push(el)
      }
    }
    prev = []
  </script>
</head>
<body>
  <div class="xp-container">
    <!-- <textarea class="source-box" ></textarea> -->
    <div class="row">
      <div class="column xp-search">
        <input type="text" id="search" class="search-box" oninput="xp_search()"/>
        <button type="button" onclick="xp_search()">Apply</button>
        <span id="msg"></span>
      </div>
    </div>
    <div class="row overflow">
      <div class="column" id="demo" style="width: 40%;">
        <div id="warningCard1" class="warning-card" data-warning-id="4fe9b6a3-4c00-4c66-902d-5a081b6d16d8">
          <div class="warning-period">
            <table>
              <thead></thead>
              <tbody>
                <tr>
                  <td colspan="2" class="warning-type YELLOW">Yellow warning</td>
                  <td>Wind</td>
                </tr>
                <tr class="valid-from">
                  <td>Valid from</td>
                  <td>07:00</td>
                  <td>Tomorrow</td>
                </tr>
                <tr class="valid-to">
                  <td>Until</td>
                  <td>23:59</td>
                  <td>Tomorrow</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="warning-description">
            <div class="warning-regions">
              <h3>Regions and local authorities affected:</h3>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Central, Tayside &amp; Fife</h4>
                <ul id="warning1Authorities0" class="local-authorities clear-fix">
                  <li class="print-format">Angus</li>
                  <li class="print-format">Clackmannanshire</li>
                  <li class="print-format">Dundee</li>
                  <li class="print-format">Falkirk</li>
                  <li class="print-format">Fife</li>
                  <li class="print-format">Perth and Kinross</li>
                  <li class="print-format">Stirling</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">East Midlands</h4>
                <ul id="warning1Authorities1" class="local-authorities clear-fix">
                  <li class="print-format">Derbyshire</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Grampian</h4>
                <ul id="warning1Authorities2" class="local-authorities clear-fix">
                  <li class="print-format">Aberdeen</li>
                  <li class="print-format">Aberdeenshire</li>
                  <li class="print-format">Moray</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Highlands &amp; Eilean Siar</h4>
                <ul id="warning1Authorities3" class="local-authorities clear-fix">
                  <li class="print-format">Na h-Eileanan Siar</li>
                  <li class="print-format">Highland</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">North East England</h4>
                <ul id="warning1Authorities4" class="local-authorities clear-fix">
                  <li class="print-format">Darlington</li>
                  <li class="print-format">Durham</li>
                  <li class="print-format">Gateshead</li>
                  <li class="print-format">Newcastle upon Tyne</li>
                  <li class="print-format">North Tyneside</li>
                  <li class="print-format">Northumberland</li>
                  <li class="print-format">South Tyneside</li>
                  <li class="print-format">Stockton-on-Tees</li>
                  <li class="print-format">Sunderland</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">North West England</h4>
                <ul id="warning1Authorities5" class="local-authorities clear-fix">
                  <li class="print-format">Blackburn with Darwen</li>
                  <li class="print-format">Blackpool</li>
                  <li class="print-format">Cheshire West and Chester</li>
                  <li class="print-format">Cumbria</li>
                  <li class="print-format">Greater Manchester</li>
                  <li class="print-format">Halton</li>
                  <li class="print-format">Lancashire</li>
                  <li class="print-format">Merseyside</li>
                  <li class="print-format">Warrington</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Northern Ireland</h4>
                <ul id="warning1Authorities6" class="local-authorities clear-fix">
                  <li class="print-format">County Antrim</li>
                  <li class="print-format">County Down</li>
                  <li class="print-format">County Fermanagh</li>
                  <li class="print-format">County Londonderry</li>
                  <li class="print-format">County Tyrone</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">SW Scotland, Lothian Borders</h4>
                <ul id="warning1Authorities7" class="local-authorities clear-fix">
                  <li class="print-format">Dumfries and Galloway</li>
                  <li class="print-format">East Lothian</li>
                  <li class="print-format">Edinburgh</li>
                  <li class="print-format">Midlothian Council</li>
                  <li class="print-format">Scottish Borders</li>
                  <li class="print-format">West Lothian</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Strathclyde</h4>
                <ul id="warning1Authorities8" class="local-authorities clear-fix">
                  <li class="print-format">Argyll and Bute</li>
                  <li class="print-format">East Ayrshire</li>
                  <li class="print-format">East Dunbartonshire</li>
                  <li class="print-format">East Renfrewshire</li>
                  <li class="print-format">Glasgow</li>
                  <li class="print-format">Inverclyde</li>
                  <li class="print-format">North Ayrshire</li>
                  <li class="print-format">North Lanarkshire</li>
                  <li class="print-format">Renfrewshire</li>
                  <li class="print-format">South Ayrshire</li>
                  <li class="print-format">South Lanarkshire</li>
                  <li class="print-format">West Dunbartonshire</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Wales</h4>
                <ul id="warning1Authorities9" class="local-authorities clear-fix">
                  <li class="print-format">Conwy</li>
                  <li class="print-format">Denbighshire</li>
                  <li class="print-format">Flintshire</li>
                  <li class="print-format">Gwynedd</li>
                  <li class="print-format">Isle of Anglesey</li>
                </ul>
              </div>
              <div class="warning-region-list">
                <h4 class="local-authorities-title">Yorkshire &amp; Humber</h4>
                <ul id="warning1Authorities10" class="local-authorities clear-fix">
                  <li class="print-format">North Yorkshire</li>
                  <li class="print-format">South Yorkshire</li>
                  <li class="print-format">West Yorkshire</li>
                </ul>
              </div>
            </div>
            <div class="warning-headline">
              <h3>Headline</h3>
              <p>A period of strong winds on Saturday is likely to lead to some transport disruption</p>
            </div>
            <div class="warning-what-to-expect">
              <h3>What should I expect?</h3>
              <ul>
                <li>Some delays to road, rail, air and ferry transport are likely</li>
                <li>It’s likely that some coastal routes, sea fronts and coastal communities will be affected by spray and/or large waves</li>
                <li>Probably some bus and train services affected, with some journeys taking longer</li>
                <li>Some short term loss of power and other services is possible</li>
                <li>Delays for high-sided vehicles on exposed routes and bridges likely</li>
                <li>There is a small chance of isolated, short term loss of power</li>
              </ul>
            </div>
            <div class="warning-what-should-i-do">
              <h3>What should I do?</h3>
              <ul>
                <li><a href="https://www.metoffice.gov.uk/weather/warnings-and-advice/seasonal-advice/stay-safe-in-strong-wind/stay-safe-in-strong-wind">5 tips for staying safe in strong wind</a></li>
                <li><a href="https://www.metoffice.gov.uk/weather/warnings-and-advice/seasonal-advice/your-home/stay-safe-in-a-storm/stay-safe-in-a-storm">Stay safe in a storm</a></li>
                <li><a href="https://www.metoffice.gov.uk/weather/warnings-and-advice/seasonal-advice/travel/travelling-in-storms-rain-and-wind/travelling-in-storms-rain-and-wind">Travelling in storms, rain and strong wind</a></li>
              </ul>
            </div>
            <div class="warning-detail-holder">
              <h3>Further detail</h3>
              <p>Strong westerly winds are expected to develop through the course of Saturday, with gusts of 50-60 mph developing quite widely across this region, and a small chance of gusts reaching 70 mph around some coasts and high ground areas. <br><br>
                This has the potential to cause delays to public transport and some disruption to the road network, which may have a greater than usual impact given the busier pre-Christmas weekend travel. Dangerous coastal conditions can be expected too, with large waves an additional hazard.<br><br>
                What should I do? <br><br>
                Give yourself the best chance of avoiding delays by checking road conditions if driving, or bus and train timetables, amending your travel plans if necessary. <br><br>
                People cope better with power cuts when they have prepared for them in advance. It’s easy to do; consider gathering torches and batteries, a mobile phone power pack and other essential items. <br><br>
                If you are on the coast, stay safe during stormy weather by being aware of large waves. Even from the shore large breaking waves can sweep you off your feet and out to sea. Take care if walking near cliffs; know your route and keep dogs on a lead. In an emergency, call 999 and ask for the Coastguard. <br><br>
                Be prepared for weather warnings to change quickly: when a weather warning is issued, the Met Office recommends staying up to date with the weather forecast in your area.</p>
              </div>
            </div>
          </div>
        </div>
      <div class="column" id="source-copy" style="width: 60%;">
      </div>
    </div>
  </div>
  <script type="text/javascript">
    div = document.getElementById('demo')
    document.getElementById('source-copy').innerText = div.innerHTML
  </script>
  </body>
</html>